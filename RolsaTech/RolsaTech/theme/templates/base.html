{% load static tailwind_tags %}
<!doctype html>
<html lang="en">
    <head>
        <title>{% block title %}{% endblock %}</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        {% tailwind_css %}

        <style>
            body {
                background-image: url("{% static 'images/background.jpg' %}");
                background-repeat: repeat;
            }
            html {
                font-family: "Rubik", sans-serif;
                scroll-padding-top: 3.5rem;
            }
        </style>
    </head>

    <body class="leading-normal tracking-normal flex flex-col min-h-screen">

        <!-- Hidden div for initializing stuff that doesn't work -->
        <div class="hidden rounded-md border border-gray-400 inset-shadow-sm bg-gray-100 shadow-md align-top"></div>

        <nav id="navBar" class="grid grid-cols-1 md:grid-cols-3 items-center w-full gap-0 z-20 shadow-md">

            <div class="w-full hidden order-2 md:order-1 md:flex flex-col md:flex-row justify-stretch md:justify-start justify-items-stretch md:justify-items-start items-center text-start gap-2 navbar-element">
                <a href="{% url 'home' %}" class="justify-self-stretch md:max-w-fit"><button type="button" class="w-full md:w-fit my-1 md:my-0">
                    <span class="material-symbols-rounded">home</span>
                    Home
                </button></a>
                <a href="{% url 'home' %}#aboutUs" class="justify-self-stretch md:max-w-fit"><button type="button" class="w-full md:w-fit my-1 md:my-0">
                    <span class="material-symbols-rounded">info</span>
                    About us
                </button></a>
            </div>

            <div class="w-full order-1 md:order-2 flex flex-row justify-start md:justify-center items-center text-start md:text-center gap-2">
                <h3 class="justify-self-stretch w-full">Rolsa Technologies</h3>
                <button type="button" id="navBarMenuButton" class="block md:hidden justify-self-stretch w-fit">
                    <span class="material-symbols-rounded">menu</span>
                </button>
            </div>


            <div class="order-3 hidden md:block 2xl:hidden justify-self-end">
                <button type="button" id="navBarMenuButtonBasic" class="justify-self-stretch md:max-w-fit">
                    <span class="material-symbols-rounded">menu</span>
                    Menu
                </button>
            </div>

            <div class="w-full order-3 hidden md:col-span-full 2xl:col-span-1 2xl:flex flex-col lg:flex-row justify-stretch md:justify-end justify-items-stretch md:justify-items-end items-center text-end gap-2 navbar-element navbar-element-for-basic">
                {% if request.user.is_authenticated %}
                <a href="{% url 'user_consultations' %}" class="justify-self-stretch 2xl:max-w-fit"><button type="button" class="2xl:w-fit my-1 2xl:m-0">
                    <span class="material-symbols-rounded">emoji_people</span>
                    Consultations
                </button></a>
                <a href="{% url 'user_installations' %}" class="justify-self-stretch 2xl:max-w-fit"><button type="button" class="2xl:w-fit my-1 2xl:m-0">
                    <span class="material-symbols-rounded">handyman</span>
                    Installations
                </button></a>
                <a href="{% url 'edit_account' %}" class="justify-self-stretch 2xl:max-w-fit"><button type="button" class="2xl:w-fit my-1 2xl:m-0">
                    <span class="material-symbols-rounded">person</span>
                    Account
                </button></a>
                <a href="{% url 'logout' %}" class="justify-self-stretch 2xl:max-w-fit"><button type="button" class="2xl:w-fit my-1 2xl:m-0">
                    <span class="material-symbols-rounded">logout</span>
                    Log out
                </button></a>
                {% else %}
                <a href="{% url 'signup' %}" class="justify-self-stretch 2xl:max-w-fit"><button type="button" class="2xl:w-fit my-1 2xl:m-0">
                    <span class="material-symbols-rounded">person_add</span>
                    Sign up
                </button></a>
                <a href="{% url 'login' %}" class="justify-self-stretch 2xl:max-w-fit"><button type="button" class="2xl:w-fit my-1 2xl:m-0">
                    <span class="material-symbols-rounded">login</span>
                    Log in
                </button></a>
                {% endif %}
            </div>
        </nav>

        {% if messages %}
        <div class="z-10 relative w-full mx-auto justify-end flex pr-2 ">
            <ul class="absolute mx-auto flex flex-col lg:flex-row gap-2 bg-white border border-gray-400 rounded-xl p-4 shadow-lg m-2">
                {% for message in messages %}
                <li>
                    <span class="material-symbols-rounded">info</span>
                    {{ message }}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% block content %}
        {% endblock %}
    </body>

    <footer>
        {% block footer %}
        {% endblock %}
    </footer>

    <script src="{% static 'js/script.js' %}"></script>
</html>
